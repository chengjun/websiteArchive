<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="theme" content="hugo-academic">
  <meta name="generator" content="Hugo 0.18.1" />
  <meta name="author" content="Cheng-Jun Wang">
  <meta name="description" content="Assistant Research Fellow">

  
  
  
    
  
  
    
    
    <link rel="stylesheet" href="/css/highlight.min.css">
    
  
  <link rel="stylesheet" href="/css/fontsgoogle.css">
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <link rel="stylesheet" href="/css/font-awesome.min.css">
  <link rel="stylesheet" href="/css/academicons.min.css">

  <link rel="stylesheet" href="/css/hugo-academic.css">
  

  <link rel="alternate" href="https://chengjunwang.com/index.xml" type="application/rss+xml" title="">
  <link rel="feed" href="https://chengjunwang.com/index.xml" type="application/rss+xml" title="">

  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/apple-touch-icon.png">

  <link rel="canonical" href="https://chengjunwang.com/en/post/en/2013-08-16-plot-regression-coefficient-with-r/">

  

  <title>Plot regression coefficient with R | </title>

</head>
<body id="top" data-spy="scroll" data-target="#navbar-main" data-offset="71">

<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
  <div class="container">

    
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target=".navbar-collapse" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/"></a>
    </div>

    
    <div class="collapse navbar-collapse">

      
      <ul class="nav navbar-nav navbar-right">
        

        

        <li class="nav-item">
          <a href="/en/#about">
            
            <span>Home</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/en/#publications_selected">
            
            <span>Publications</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/en/#projects">
            
            <span>Projects</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/en/#posts">
            
            <span>News</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/en/#teaching">
            
            <span>Teaching</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/en/#contact">
            
            <span>Contact</span>
          </a>
        </li>

        
        

        

        <li class="nav-item">
          <a href="/zh">
            
            <span>中文</span>
          </a>
        </li>

        
        
      </ul>

    </div>
  </div>
</nav>


<article class="article" itemscope itemtype="http://schema.org/Article">



  


  <div class="article-container">
    <h1 itemprop="name">Plot regression coefficient with R</h1>
    

<div class="article-metadata">

  <span class="article-date">
    <time datetime="0001-01-01 00:00:00 &#43;0000 UTC" itemprop="datePublished">
      Mon, Jan 1, 0001
    </time>
  </span>

  
  
  
  <span class="article-categories">
    <i class="fa fa-folder"></i>
    

    
      <div id="toc" class="well col-md-12">
      <h2 itemprop="name">Table of Content</h2>
      
      </div>
    
    
    <div class="article-style" itemprop="articleBody">
      <p>To visualize the regression coefficient is very useful. There are at least to packages (arm, coefplot) devoted to this purpose. However, both them are not beautiful enough, compared with the effect of boxplot.</p>

<p>I refer to the R script written by <a href="http://www.carlislerainey.com/2012/06/30/coefficient-plots-in-r/" target="_blank">Carlisle Rainey</a>. What I do is to add rectangles and vertical line into the plot made by Carlisle Rainey.Please refer to this post for more information: <a href="http://www.carlislerainey.com/2012/06/30/coefficient-plots-in-r/" target="_blank">http://www.carlislerainey.com/2012/06/30/coefficient-plots-in-r/</a></p>

<p><img src="http://farm4.staticflickr.com/3737/9520667493_576a8525c7_z.jpg" alt="" /></p>

<p>Figure 1 Plot with rectangles and vertical lines</p>

<p>Here is the R script:</p>

<pre><code>library(arm)
library(alr3) # load the alr3 package (contains data set for illustration)
data(highway) # load the highway data set from alr3
d &lt;- highway  # call the data set d for convenience

m &lt;- lm(Rate ~ Lwid + Shld + Lane + Len + ADT + Trks, data = d)  # estimate the normal linear model

## create a vector to store the variable names
var.names &lt;- c(&quot;lane width, in feet&quot;, &quot;width in feet of outer\nshoulder on the roadway&quot;,
  &quot;total number of lanes\nof traffic&quot;, &quot;length of the highway\nsegment in miles&quot;,
  &quot;average daily traffic\ncount in thousands&quot;, &quot;truck volume as a percent\nof the total volume&quot;)

## set up the plot region:
plot(c(100, 250), c(300, 450), type = &quot;n&quot;)
rect(120,300, 180, 305, col=rainbow(11, start=.7,end=.1))

## Plot Labels outside graph

# set the graphical parameters
par(
  family = &quot;serif&quot;,  # I don't plot in anything but serif
  oma = c(0,0,0,0),  # Since it is a single plot, I set the outer margins to zero.
  mar = c(5,10,4,2)  # Inner margins are set through a little trial and error.
  )

# create an empty plot for total customization
plot(NULL,                              # create empty plot
  xlim = c(-2, 2),                      # set xlim by guessing
  ylim = c(.7, length(var.names) + .3), # set ylim by the number of variables
  axes = F, xlab = NA, ylab = NA)       # turn off axes and labels

# add the data
est &lt;- coef(m)[-1]              # conveniently store the estimates (minus the constant)
se &lt;- sqrt(diag(vcov(m)))[-1]   # conveniently store the std. errors (minus the constant)
for (i in 1:length(est)) {                # loop over a counter the length of the estimate vector
  points(est[i], i, pch = 3, cex = .5)     # add the points to the plot
  points(est[i]+ 1.64*se[i], i, pch = &quot;|&quot;, cex = 1.5) ## add the verticle lines
  points(est[i]- 1.64*se[i], i, pch = &quot;|&quot;, cex = 1.5) ## add the verticle lines
  lines(c(est[i] + 1.64*se[i], est[i] - 1.64*se[i]), c(i, i), )         # add the 90% confidence intervals
  rect(est[i] + .67*se[i],i-0.1, est[i]- .67*se[i], i+0.1, col=&quot;#0000ff22&quot;) ## add rectancles to present 50% confidence intervals
  text(-2.9, i, var.names[i], xpd = T, cex = .8)                      # add the variable names
}

# add axes and labels
axis(side = 1)                                                                                          # add bottom axis
abline(v = 0, lty = 3, col = &quot;grey&quot;)                                                                    # add verticle line
mtext(side = 1, &quot;Linear Regression Coefficient&quot;, line = 3)                                              # label bottom axis
mtext(side = 3, &quot;Linear Regression Model of\n the Accident Rate per Million Vehicle Miles&quot;, line = 1)   # add title
box()
</code></pre>

<p>{:lang=&ldquo;ruby&rdquo;}</p>

    </div>



  </div>


</article>

<div class="container">
  <nav>
  <ul class="pager">
    
    <li class="previous"><a href="https://chengjunwang.com/en/post/en/2013-08-14-recoding-in-r/"><span
      aria-hidden="true">&larr;</span> Recoding variables in R</a></li>
    

    
    <li class="next"><a href="https://chengjunwang.com/en/post/en/2014-04-06-vison-statement/">My vision statement <span
      aria-hidden="true">&rarr;</span></a></li>
    
  </ul>
</nav>

</div>

<div class="article-container">
  
<section id="comments">
  <div id="disqus_thread">
    <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'ChengjunWang';
    var disqus_identifier = 'https:\/\/chengjunwang.com\/en\/post\/en\/2013-08-16-plot-regression-coefficient-with-r\/';
    var disqus_title = 'Plot regression coefficient with R';
    var disqus_url = 'https:\/\/chengjunwang.com\/en\/post\/en\/2013-08-16-plot-regression-coefficient-with-r\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  </div>
</section>



</div>

<footer class="site-footer">
  <div class="container">
    <p class="powered-by">

      &copy; 2016 Cheng-Jun Wang &middot; 

      Powered by the <a href="https://github.com/gcushen/hugo-academic" target="_blank">Academic
      theme</a> for <a href="http://gohugo.io" target="_blank">Hugo</a> and <a href="http://github.com/" target="_blank">Github</a>.

      <span class="pull-right" aria-hidden="true">
        <a href="#" id="back_to_top">
          <span class="button_icon">
            <i class="fa fa-chevron-up fa-2x"></i>
          </span>
        </a>
      </span>

    </p>
  </div>
</footer>

    <script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.4/TweenMax.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/gsap/latest/plugins/ScrollToPlugin.min.js"></script>
    <script src="/js/jquery-1.12.3.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/isotope.pkgd.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.1/imagesloaded.pkgd.min.js"></script>
    <script src="/js/hugo-academic.js"></script>
    

    

    
    
      
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>

      

      

      <script>hljs.initHighlightingOnLoad();</script>
    

    
    

    

  </body>
</html>

